% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/aopts.R
\name{aopts}
\alias{aopts}
\title{Autoregressive Ordinal Probit Model for Categorical Time Series}
\usage{
aopts(
  y,
  X,
  method = c("clse"),
  control = list(reltol = 1e-07, maxit = 1000),
  optim_method = "BFGS",
  hessian = TRUE
)
}
\arguments{
\item{y}{Integer or factor vector of length T (levels must be ordered);
mapped to 1..K internally.}

\item{X}{Design matrix (T x p). Include an intercept column if you want one.}

\item{method}{Estimation method. For now: \code{"clse"}.}

\item{control}{List passed to \code{constrOptim} (e.g., \code{list(reltol=1e-7,maxit=1000)}).}

\item{optim_method}{Optimizer for \code{constrOptim} ("BFGS", "CG", ...).}

\item{hessian}{Logical; compute Hessian (for SEs).}
}
\value{
An object of class \code{"aopts_fit"} with elements:
\itemize{
\item \code{method} – "clse"
\item \code{par} – estimated parameter vector
\item \code{se} – standard errors (if \code{hessian=TRUE} and invertible)
\item \code{K}, \code{T}, \code{p} – dimensions
\item \code{par_map} – list with decoded pieces: \code{cut}, \code{beta}, \code{rho}
\item \code{value}, \code{convergence}, \code{message} – optimizer outputs
}
}
\description{
Main entry point for fitting ordinal time–series models.
Currently supports Conditional Least Squares Estimation (method = "clse"),
using native routines registered in the package's shared library.
}
\details{
This package compiles code in \code{src/} into a single shared library that
R loads automatically. Native calls use \code{PACKAGE="aopts"}; you should
not call \code{dyn.load()} or pass a \code{.so} path.
}
\examples{
## Example 1: Simulated ordinal time series with AR(1) latent correlation
set.seed(1)
T  <- 600
K  <- 5
t  <- 1:T

# Design matrix: intercept + mild trend + ~30-day seasonality
X <- cbind(
  Intercept = 1,
  Trend     = as.numeric(scale(t, scale = FALSE)),
  c30       = cos(2*pi*t/30),
  s30       = sin(2*pi*t/30)
)

cut_true   <- c(0.5, 1.2, 2.0)
theta_true <- c(-0.5, 0.001, 0.30, -0.10)
rho_true   <- 0.6

sim <- aop_sim(
  ci = cut_true, theta = theta_true, rho = rho_true,
  K = K, Ts = T, DesignX = X, seed = 123
)

fit <- aopts(y = sim$X_hour, X = X, method = "clse")
print(summary(fit))

}
